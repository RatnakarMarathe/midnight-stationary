<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Midnight Stationery</title>
    <style>
        /* Existing CSS styles */
        /* (Same as provided earlier) */
    </style>
</head>
<body>
    <header>
        <h1>Midnight Stationery</h1>
        <p>Your last-minute stationery solution in Pune</p>
    </header>

    <div class="container">
        <h2>Our Products</h2>

        <div class="tabs">
            <div class="tab-links">
                <div onclick="openTab(event, 'chart-paper')">Chart Paper</div>
                <div onclick="openTab(event, 'glue')">Glues</div>
                <div onclick="openTab(event, 'craft-materials')">Craft Materials</div>
            </div>
        </div>

        <div id="chart-paper" class="tab-content"></div>
        <div id="glue" class="tab-content"></div>
        <div id="craft-materials" class="tab-content"></div>

        <h2>Your Cart</h2>
        <div class="cart-items">
            <p>No items in cart.</p>
        </div>

        <div id="cart-summary">
            <h3 id="cart-total">Total: ₹0</h3>
            <h3 id="total-with-fee">Total with Delivery: ₹500</h3>
        </div>

        <button onclick="generateQRCode()">Pay</button>

        <div class="qr-container">
            <h3>Scan the QR Code to Pay</h3>
            <img id="qr-code" src="" alt="QR Code" style="display:none;">
        </div>

        <h2>Share Your Location</h2>
        <button onclick="getLocation()">Share My Location</button>
        <div id="location-info"></div>
    </div>

    <footer>
        <p>&copy; 2024 Midnight Stationery. All rights reserved.</p>
    </footer>

    <script>
        async function fetchProducts() {
            try {
                const response = await fetch('products.json');
                const data = await response.json();
                populateTabs(data);
            } catch (error) {
                console.error('Error fetching the product data:', error);
            }
        }

        function populateTabs(data) {
            const chartPaperContainer = document.getElementById('chart-paper');
            const glueContainer = document.getElementById('glue');
            const craftMaterialsContainer = document.getElementById('craft-materials');

            const createProductHTML = (product) => `
                <div class="product-item">
                    <img src="${product.image}" alt="${product.name}">
                    <h3>${product.name}</h3>
                    <p>₹${product.price}</p>
                    <button>Add to Cart</button>
                </div>
            `;

            chartPaperContainer.innerHTML = data.chartPaper.map(createProductHTML).join('');
            glueContainer.innerHTML = data.glues.map(createProductHTML).join('');
            craftMaterialsContainer.innerHTML = data.craftMaterials.map(createProductHTML).join('');

            // Open default tab
            document.querySelector(".tab-links div").click();
        }

        function openTab(evt, tabName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tab-content");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tab-links")[0].children;
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].style.backgroundColor = "#00796b";
            }
            document.getElementById(tabName).style.display = "block";
            evt.currentTarget.style.backgroundColor = "#004d40";
        }

        // Fetch products on page load
        document.addEventListener("DOMContentLoaded", fetchProducts);
    </script>
</body>
</html>
